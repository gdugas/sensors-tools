<html>
<head>

<style>
	body { font-size: .8em; }
</style>
<link rel="stylesheet" type="text/css" href="js/jquery/ui-lightness/jquery-ui-1.8.11.full.css" />
<script type="text/javascript" src="js/jquery/jquery-1.5.1.min.js" ></script>
<script type="text/javascript" src="js/jquery/jquery-ui-1.8.11.min.js" ></script>
<script type="text/javascript" src="js/highcharts/highcharts.js" ></script >
<script type="text/javascript" src="js/chart.js" ></script >

<style>
input.selected { color: #999; }
input.active { color: #c00; }
</style>

<script type="text/javascript" >
 
 var activeView = "hour";
 var selectView = "hour";
 
 $(document).ready( function() {
	
	// DatePicker (date)
	$("#startdate").datepicker({
		defaultDate: "+0d",
		dateFormat: "@",
	}); $("#startdate").datepicker('setDate','+0d');
	
	// Slider (time)
	$("#starthour").slider({
		max: 86340,
		step: 60,
		create: function() { $("#timecontent").text('0h 00m'); },
		slide: function(event, ui) {
			var time = new Date();
			time.setTime( (ui.value * 1000) - 3600000 );
			$("#timecontent").text( time.getHours()+"h" + " "+ time.getMinutes()+"m"); }
	});
	
	// Buttons
	$('#views input[value="'+selectView+'"]').addClass("selected");
	$('#views input[value="'+selectView+'"]').addClass("active");
	$("#views input").click(function() {
		$('#views input[value="'+selectView+'"]').removeClass("selected");
		selectView = $(this).val();
		$(this).addClass("selected");
	});
	
	// Action on refresh
	$("#refresh").click(function(){
			var tosend = {
				view : selectView,
				date : parseInt($("#startdate").val())/1000 + ( $("#starthour").slider("value") ),
			};
			loadChart(tosend);
	});
	
	// Chargement graph
	loadChart({});
 });

</script>
</head>
<body>



<div id="chart" style="width: 100%; height: 80%; ">Chart ... (in dev)</div>
<div id="date">
	<fieldset style="position: relative;">
	<legend>Date: </legend>
		<div style="float: left; width: 20%;"><label for="startdate">Date: </label><input type="text" id="startdate"></div>
		<div style="float: left; width: 80%;"><label for="starthour" >Time: <span id="timecontent"></span></label><div id="starthour"></div></div>
	</fieldset>
</div>

<div id="views">
	<fieldset>
	<legend>Views:</legend>
		<input type="button" class="view" value="month">
		<input type="button" class="view" value="week">
		<input type="button" class="view" value="day">
		<input type="button" class="view" value="hour">
	</fieldset>
</div>
<input type="button" id="refresh" value="refresh" style="float: right">







</body>
</html>
